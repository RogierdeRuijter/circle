<html lang="en">
<head>
  <meta charset="utf-8">

  <title>Huh?</title>
  <meta name="description" content="Jaaaa">
  <meta name="viewport" content="width=device-width, height=device-height, initial-scale=1">
  <link rel="stylesheet" type="text/css" href="reset.css">

  <link rel="icon" type="image/png" href="favicon.png">
  <link rel="apple-touch-icon" href="favicon.png">
  
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-177518266-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-177518266-1');
  </script>

  <style>
      #wrapper {
        position: relative;
        background-color: black;
        display: flex;
        justify-content: center;
        align-items: center;
        flex-direction: column;
      }

      #image-wrapper {
          position: relative;
          display: none;
          user-select: none;
          -moz-user-select: none;
          -khtml-user-select: none;
          -webkit-user-select: none;
          -o-user-select: none;
      }

      html {
        background-color: black;
        /* cursor: url('index-finger.png'), auto; */
      }

      body {
        /* display: flex;
        justify-content: center; */
      }

      #neutralize-circle {
        position: absolute;
        width: 20%;
        height: 24%;
        left: 43%;
        top: 34%;
        border: 1px solid blue;
      }

      #total {
        position: fixed;
        color: white;
        right: 20px;
        top: 20px;
      }
  </style>
</head>
<body>
    <div id="got-u" style="color: white; display: none; align-items: center; justify-content: center;">Got u <img style="width: 30px;"src="circle-hand.png"></div>
    <!-- <div id="wrapper"> -->

        <div id="image-wrapper">
          <img id="image" src="circle.jpg">
          <div id="neutralize-circle" onclick="handleNeutralize()"></div>
        </div>
    <!-- </div> -->
  
    <script>
        const wrapper = document.getElementById('wrapper');
        const image = document.getElementById('image');
        const imageWrapper = document.getElementById('image-wrapper');
        const neutralizeCircle = document.getElementById('neutralize-circle');
        const gotU = document.getElementById('got-u');

        const screenWidth = document.body.clientWidth;
        const screenHeight = document.body.clientHeight;

        if (screenWidth < screenHeight) {          
          imageWrapper.style.width = '45%';
          image.style.width = '100%';
        } else {          
          imageWrapper.style.height = '45%';
          image.style.height = '100%';
        }

        let neutralize = false;

        const handleNeutralize = () => {
          console.log('handleNeutralize');
          let neutralize = true;
        };

        // neutralizeCircle.addEventListener('click', handleNeutralize);
        let firstTime = true;

        setInterval(() => requestAnimationFrame(() => {
          // Set position
          imageWrapper.style.display = 'inline-block';
          imageWrapper.style.left = getRandomInt(80).toString() + '%';
          imageWrapper.style.top = getRandomInt(80).toString() + '%';
          
          if (firstTime === false) {
            if (neutralize === false) {
              gotU.style.display = 'flex';
            }

            if (neutralize === true) {
              gotU.style.display = 'none';
            }

            neutralize = false;
          }
          firstTime = false;
        }), 2500);

        const getRandomInt = (max) => Math.floor(Math.random() * Math.floor(max));

        setTimeout(() => {
          document.title = "Got u";
          
          var favicon = document.querySelector('link[rel="icon"]');
          var appleTouchIcon = document.querySelector('link[rel="apple-touch-icon"]');

          if (!favicon) {
              favicon = document.createElement('link');
              favicon.setAttribute('rel', 'icon');
              var head = document.querySelector('head');
              head.appendChild(favicon);
          }
          
          favicon.setAttribute('type', 'image/png');
          favicon.setAttribute('href', 'circle-hand.png');

          appleTouchIcon.setAttribute('href', 'circle-hand.png');
          }, 4000);
    </script>
</body>
</html>
